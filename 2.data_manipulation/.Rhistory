#### load packages and fix functions ####
data.packages <- c('dplyr', 'ggplot2', 'RColorBrewer', 'RCurl', 'ggthemes', 'ggExtra', 'gridExtra', 'scales', 'tidyr', 'MASS', 'devtools', 'lubridate', 'mosaic')
lapply(data.packages, library, character.only = T)
## redefine select from dplyr because MASS package causes issues
select <- dplyr::select
#### IMPORTANT: specify final output path here ####
output.path = "/Users/brett/GitHub/proj-fantasy/data/fanduel_season_data1"
lookup.table.path = "/Users/brett/GitHub/proj-fantasy/data/lookup_table.csv"
#### bring in salary data from fanduel ####
## get data from github and import as a table
salary <- tbl_df(read.csv("https://raw.githubusercontent.com/brttstl/proj-fantasy/master/data/salary.csv", header = TRUE, ";", skipNul = FALSE, stringsAsFactors = FALSE))
#### clean up ####
View(salary)
no.def <- salary %>%
select(Week, Year, GID, Name, Pos, Team, Location, h/a = h.a, Oppt, FD points = FD.points, Salary = FD.salary) %>%
filter(Position %in% c("QB", "RB", "WR", "TE", "PK"), FanDuel.sal >= 1)
#### clean up ####
## remove gid column and filter out def for name format reshape remove salaries that are 0 as these players weren't available
no.def <- salary %>%
select(Week, Year, GID, Name, Pos, Team, Location, h/a = h.a, Oppt, FD points = FD.points, Salary = FD.salary) %>%
filter(Position %in% c("QB", "RB", "WR", "TE", "PK"), FanDuel.sal >= 1)
